#!groovy

@Library("Infrastructure")

def type = "java"
def product = "pip"
def component = "subscription-management"

withParameterizedPipeline(type, product, component, 'sbox', 'sbox') {

  enableDbMigration(kv)
  enableSlackNotifications('#pip-build-notices')

  enableAksStagingDeployment()
  disableLegacyDeployment()
  enableApiGatewayTest()

  def branchName = env.CHANGE_BRANCH ?: env.BRANCH_NAME
}
